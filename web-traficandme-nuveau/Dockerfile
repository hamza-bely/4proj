# Étape de build
FROM node:20 AS build
WORKDIR /app

# Déclare les arguments de build
ARG VITE_API_URL
ARG VITE_TOMTOM_API_KEY
ARG VITE_LIBRETRANSLATE_API_KEY

# Rendre les variables visibles dans Vite
ENV VITE_API_URL=$VITE_API_URL
ENV VITE_TOMTOM_API_KEY=$VITE_TOMTOM_API_KEY
ENV VITE_LIBRETRANSLATE_API_KEY=$VITE_LIBRETRANSLATE_API_KEY

COPY . .
RUN npm install
RUN npm run build
